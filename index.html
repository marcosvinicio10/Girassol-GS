<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Girassol GS</title>
    <link rel="stylesheet" href="styles/index.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="top-decoration">
        <img src="assets/mato.png" alt="Decoração de mato" class="mato-decoration">
    </div>
    <div id="header-placeholder"></div>

    <main>
        <section id="home" class="hero">
            <img src="assets/girassol.png" alt="Girassol" class="girassol-left" />
            <img src="assets/girassol.png" alt="Girassol" class="girassol-right" />
            <div class="hero-content">
                <h2>Bem-vindo à Girassol</h2>
                <p>Flores que transformam momentos em memórias</p>
                <a href="#produtos" class="cta-button">Ver Produtos</a>
            </div>
        </section>

        <section id="produtos" class="products">
            <h2>Nosso Catálogo</h2>
            <div class="category-buttons">
                <div class="category-item">
                    <button class="category-btn" data-category="burgue">
                        <img src="assets/buguersBotao.png" alt="Buquês">
                    </button>
                    <span class="category-name">Buquês</span>
                </div>
                <div class="category-item">
                    <button class="category-btn" data-category="caixa">
                        <img src="assets/bombomBotao.png" alt="Caixas">
                    </button>
                    <span class="category-name">Caixas</span>
                </div>
                <div class="category-item">
                    <button class="category-btn" data-category="unidade">
                        <img src="assets/unidadeBotao.png" alt="Unidades">
                    </button>
                    <span class="category-name">Unidades</span>
                </div>
            </div>
            <div id="carousels-container">
                <!-- Os carrosséis serão inseridos aqui via JavaScript -->
            </div>
        </section>
    </main>

    <div id="footer-placeholder"></div>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Girassol GS</h3>
                <p>Transformando momentos em memórias com as mais belas flores.</p>
            </div>
            <div class="footer-section">
                <h3 href="footer">Contato</h3>
                <p><i class="fas fa-phone"></i> (XX) XXXX-XXXX</p>
                <p><i class="fas fa-envelope"></i> contato@girassol.com</p>
                <p><i class="fas fa-map-marker-alt"></i> Endereço da Loja</p>
            </div>
            <div class="footer-section">
                <h3 id="footer">Redes Sociais</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-youtube"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-whatsapp"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Girassol GS. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script src="controllers/products.js"></script>
    <script src="controllers/cart.js"></script>
    <script src="controllers/details.js"></script>
    <script src="controllers/scroll.js"></script>
    <script src="src/components/header.js"></script>
    <script src="src/components/ProductCard.js"></script>
    <script>
        // Carregar produtos do JSON
        async function loadProducts() {
            try {
                const response = await fetch('data/products.json');
                const data = await response.json();
                const container = document.getElementById('carousels-container');
                
                // Agrupar produtos por categoria
                const productsByCategory = {};
                data.products.forEach(product => {
                    if (!productsByCategory[product.category]) {
                        productsByCategory[product.category] = [];
                    }
                    productsByCategory[product.category].push(product);
                });

                // Criar carrossel para cada categoria
                Object.entries(productsByCategory).forEach(([category, products]) => {
                    const carouselSection = document.createElement('section');
                    carouselSection.className = 'carousel-section';
                    carouselSection.id = `category-${category}`;
                    
                    const categoryTitle = document.createElement('h2');
                    categoryTitle.className = 'category-title';
                    // Capitalizar primeira letra da categoria
                    categoryTitle.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                    carouselSection.appendChild(categoryTitle);

                    const carousel = document.createElement('div');
                    carousel.className = 'carousel';
                    
                    const carouselContent = document.createElement('div');
                    carouselContent.className = 'carousel-content';
                    
                    products.forEach(product => {
                        const card = document.createElement('product-card');
                        card.setAttribute('id', product.id);
                        card.setAttribute('name', product.name);
                        card.setAttribute('price', product.price);
                        card.setAttribute('image', product.image);
                        card.setAttribute('brand', product.brand);
                        card.setAttribute('description', product.description);
                        card.setAttribute('production-time', product.productionTime);
                        carouselContent.appendChild(card);
                    });

                    carousel.appendChild(carouselContent);
                    carouselSection.appendChild(carousel);
                    container.appendChild(carouselSection);
                });

                // Adicionar eventos aos botões de categoria
                document.querySelectorAll('.category-btn').forEach(button => {
                    button.addEventListener('click', () => {
                        const category = button.getAttribute('data-category');
                        const section = document.getElementById(`category-${category}`);
                        if (section) {
                            section.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });

                // Inicializar scroll horizontal para cada carrossel
                document.querySelectorAll('.carousel').forEach(carousel => {
                    let isDown = false;
                    let startX;
                    let scrollLeft;

                    carousel.addEventListener('mousedown', (e) => {
                        isDown = true;
                        carousel.classList.add('active');
                        startX = e.pageX - carousel.offsetLeft;
                        scrollLeft = carousel.scrollLeft;
                    });

                    carousel.addEventListener('mouseleave', () => {
                        isDown = false;
                        carousel.classList.remove('active');
                    });

                    carousel.addEventListener('mouseup', () => {
                        isDown = false;
                        carousel.classList.remove('active');
                    });

                    carousel.addEventListener('mousemove', (e) => {
                        if (!isDown) return;
                        e.preventDefault();
                        const x = e.pageX - carousel.offsetLeft;
                        const walk = (x - startX) * 2;
                        carousel.scrollLeft = scrollLeft - walk;
                    });
                });

            } catch (error) {
                console.error('Erro ao carregar produtos:', error);
            }
        }

        // Carregar produtos quando a página carregar
        document.addEventListener('DOMContentLoaded', loadProducts);
    </script>
</body>
</html> 