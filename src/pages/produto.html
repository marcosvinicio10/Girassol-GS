<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Produto | Girassol Floricultura</title>
        <link rel="stylesheet" href="../../styles/index.css">
        <link rel="stylesheet" href="../../styles/produto.css">
        <link rel="stylesheet" href="../../styles/header.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    </head> 
<body>
    <header-component></header-component>
    <main>
        <div class="produto-container">
            <div class="produto-fotos">
                <img id="mainFoto" src="../../assets/fotoflor.png" alt="Foto do Produto">
                <div class="produto-galeria">
                    <img src="../../assets/fotoflor.png" alt="Foto 1" class="selected" onclick="trocarFoto(this)">
                    <img src="../../assets/fotoflor.png" alt="Foto 2" onclick="trocarFoto(this)">
                </div>
            </div>
            <div class="produto-info">
                <div class="produto-titulo" id="produtoTitulo">Buquê de Rosas</div>
                <div class="produto-preco" id="produtoPreco">R$ 89,90</div>
                <div class="produto-descricao" id="produtoDescricao">
                    Um buquê de rosas vermelhas frescas, perfeito para presentear quem você ama.
                </div>
                <div class="produto-tempo">
                    <i class="fas fa-clock"></i>
                    Tempo de produção: <span id="produtoTempo">2 horas</span>
                </div>
                <div class="produto-acoes">
                    <button class="comprar-btn">Comprar agora</button>
                    <button class="carrinho-btn">Adicionar ao carrinho</button>
                    <button class="like-btn" id="likeBtn" aria-label="Curtir produto"><i class="fa-regular fa-heart"></i></button>
                </div>
            </div>
        </div>
    </main>
    <script src="../../src/components/header.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const selectedProduct = JSON.parse(localStorage.getItem('selectedProduct'));
        
        if (selectedProduct) {
            document.title = `${selectedProduct.name} - Girassol Garden Shop`;
            document.getElementById('produtoTitulo').textContent = selectedProduct.name;
            document.getElementById('produtoPreco').textContent = `R$ ${selectedProduct.price.toFixed(2)}`;
            document.getElementById('produtoDescricao').textContent = selectedProduct.description;
            document.getElementById('produtoTempo').textContent = selectedProduct.productionTime;
            
            // Atualizar imagens
            document.querySelector('.produto-imagem-principal img').src = selectedProduct.image;
            document.querySelector('.produto-imagem-principal img').alt = selectedProduct.name;
            
            // Adicionar evento para o botão de comprar
            document.querySelector('.comprar-btn').addEventListener('click', () => {
                adicionarAoCarrinho(selectedProduct);
            });
        }
    });

    function adicionarAoCarrinho(produto) {
        let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
        
        // Verificar se o produto já está no carrinho
        const produtoExistente = carrinho.find(item => item.id === produto.id);
        
        if (produtoExistente) {
            produtoExistente.quantidade++;
        } else {
            carrinho.push({
                ...produto,
                quantidade: 1
            });
        }
        
        localStorage.setItem('carrinho', JSON.stringify(carrinho));
        
        // Mostrar mensagem de sucesso
        alert('Produto adicionado ao carrinho!');
    }

    // Função para trocar a imagem principal
    function trocarImagem(imagem) {
        document.querySelector('.produto-imagem-principal img').src = imagem;
    }

    // Evento para o botão de like
    document.querySelector('.like-btn').addEventListener('click', function() {
        this.classList.toggle('active');
    });
    </script>
</body>
</html> 